<link rel="stylesheet" href="pages/cart/cart.css">

<!-- fix these scripts + links -->
<script src="../public/scripts/items.js"></script>
<script src="../public/scripts/orders.js"></script>
<link rel="stylesheet" href="../public/styles/home.css">
<link rel="stylesheet" href="../public/styles/cart.css">
<script src="../public/scripts/maps.js"></script>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=&callback=initMap"></script>

<body>



    <!--<?php include '../components/header.php'; ?>
    <?php
    if (!isset($_SESSION['fname'])) {
        header('Location: signin.php');
        exit();
    }
    if (isset($_SESSION['email']) && $_SESSION['email'] == 'loquito@admin.com') {
        header('Location: ../index.php');
        exit();
    }

    //Displays order status message
    if (isset($_SESSION['alert_message'])) {
        echo "<script>alert('{$_SESSION['alert_message']}')</script>";
        unset($_SESSION['alert_message']);
    }
    ?>-->




    <center>
        <main class="items-section">
            <h2 style="font-family: Playwrite IT Moderna, serif; font-weight: 800; font-style: normal; font-size: 45px">
                Shopping Cart</h2>
            <h1>Welcome, {{ session.fname }}!</h1>
            <div class="card-grid" id="cartitem-list">
                <!-- Items will be populated here by JavaScript -->
            </div>
        </main>
    </center>

    <h1>Destination Route</h1>
    <div id="map" style="height: 500px; width: 50%; margin-left: auto; margin-right:auto;"></div>

    <h1>Hey There <!--<?php echo $_SESSION['fname']; ?> -->! Would like to proceed to checkout?</h1>
    <div class="payment">

        <div class="invoiceCard">
            <h2>Order Details</h2>
            <div id="invoice">
                <!-- Invoice will be populated here by JavaScript -->
            </div>
        </div>



        <!-- Purchase Shopping Cart Form -->
        <div class="purchase">
            <h3>We have registered that you are from <!-- <?php echo $_SESSION['city']; ?> --></h3>

            <form id="orderform" action="../api/orders.php" method="POST">

                <label for="store">Select Store</label><br></br>
                <select name="Store" id="lang">
                    <!-- Stores available will be populated by JavaScript -->
                </select>
                <br></br>

                <h2>Credit Card Information</h2>
                <label for="cardNumber">Card Number</label><br>
                <input type="text" id="cardNumber" name="cardNumber" pattern="\d{16}"
                    title="Please enter a valid 16-digit credit card number"
                    placeholder="Please enter a valid 16-digit credit card number" required><br><br>

                <label for="expiryDate">Expiration Date</label><br>
                <input type="text" id="expiryDate" name="expiryDate" pattern="(0[1-9]|1[0-2])\/?([0-9]{2})"
                    placeholder="MM/YY" title="Please enter a valid expiration date in MM/YY format" required><br><br>

                <label for="cvv">CVV</label><br>
                <input type="text" id="cvv" name="cvv" pattern="\d{3}" title="Please enter a valid 3-digit CVV"
                    placeholder="Please enter a valid 3-digit CVV" required><br><br>

                <input type="submit" value="Purchase">
            </form>
        </div>


    </div>

    <h1>Purchase History</h1>
    <form class="purchase" style="margin-left: auto;">
        <label for="store">Search with Order ID</label><br></br>
        <select name="Purchases" id="bang">
            <!-- Purchases available will be populated by JavaScript -->
        </select>
        <br /> 


    </form>


    <div class="purchase-grid" id="purchase-history">
        <!-- Purchase history will be populated here by JavaScript -->
    </div>


    <script src="../public/scripts/updatecart.js"></script>
</body>